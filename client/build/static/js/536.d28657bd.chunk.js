"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[536],{7536:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(1413),a=r(4165),s=r(5861),c=r(9439),o=r(2791),i=r(2945),l=r(7022),d=r(9743),u=r(2677),h=r(3360),x=r(5316),m=r(5313),p=r(5987),Z=r(1694),j=r.n(Z),f=r(6543),v=r(162),g=r(6882),C=r(1991),b=r(184),y=["bsPrefix","size","hasValidation","className","as"],N=(0,f.Z)("input-group-text",{Component:"span"}),k=o.forwardRef((function(e,n){var r=e.bsPrefix,a=e.size,s=e.hasValidation,c=e.className,i=e.as,l=void 0===i?"div":i,d=(0,p.Z)(e,y);r=(0,v.vE)(r,"input-group");var u=(0,o.useMemo)((function(){return{}}),[]);return(0,b.jsx)(C.Z.Provider,{value:u,children:(0,b.jsx)(l,(0,t.Z)((0,t.Z)({ref:n},d),{},{className:j()(c,r,a&&"".concat(r,"-").concat(a),s&&"has-validation")}))})}));k.displayName="InputGroup";var S=Object.assign(k,{Text:N,Radio:function(e){return(0,b.jsx)(N,{children:(0,b.jsx)(g.Z,(0,t.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,b.jsx)(N,{children:(0,b.jsx)(g.Z,(0,t.Z)({type:"checkbox"},e))})}}),E=["560001"],w=(r(8639),r(5294)),P=function(){var e=(0,o.useState)(!1),n=(0,c.Z)(e,2),r=n[0],p=n[1],Z=(0,o.useState)({name:"",email:"",address:"",phoneno:"",age:"",gotra:"",gender:"",date:""}),j=(0,c.Z)(Z,2),f=j[0],v=j[1],g=function(){return p(!1)},C=(0,o.useContext)(i.c),y=C.CartItem,N=C.setCartItem,k=C.addToCart,P=C.decreaseQty,D=C.deleteProduct,G=(y.reduce((function(e,n){return e+n.qty*n.price}),0),(0,o.useState)("")),I=(0,c.Z)(G,2),T=I[0],L=I[1],q=(0,o.useState)(""),F=(0,c.Z)(q,2),z=F[0],R=F[1];(0,o.useEffect)((function(){if(window.scrollTo(0,0),0===y.length){var e=localStorage.getItem("cartItem");N(JSON.parse(e))}}),[]);var A=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.includes(T)){e.next=3;break}return alert("Service is not available in your pincode."),e.abrupt("return");case 3:return n=document.querySelector("form"),r=new FormData(n),t={pincode:r.get("pincode"),name:r.get("name"),email:r.get("email"),address:r.get("address"),phoneno:r.get("phoneno"),age:r.get("age"),gotra:r.get("gotra"),cartItems:y},e.prev=6,e.next=9,w.Z.post("http://localhost:8082/api/orders",t);case 9:e.sent.data.success&&(N([]),g()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error submitting order:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)("section",{className:"cart-items",children:[(0,b.jsx)(l.Z,{children:(0,b.jsxs)(d.Z,{className:"justify-content-center",children:[(0,b.jsxs)(u.Z,{md:8,children:[0===y.length&&(0,b.jsx)("h1",{className:"no-items product",children:"No Sevas selected currently"}),y.map((function(e){var n=e.price*e.qty;return(0,b.jsx)("div",{className:"cart-list",children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(u.Z,{className:"image-holder",sm:4,md:3,children:(0,b.jsx)("img",{src:e.imgUrl,alt:""})}),(0,b.jsx)(u.Z,{sm:8,md:9,children:(0,b.jsxs)(d.Z,{className:"cart-content justify-content-center",children:[(0,b.jsxs)(u.Z,{xs:12,sm:9,className:"cart-details",children:[(0,b.jsx)("h3",{children:e.productName}),(0,b.jsxs)("h4",{children:["\u20b9".concat(e.price,".00")," * ",e.qty,(0,b.jsx)("span",{children:"\u20b9".concat(n,".00")})]})]}),(0,b.jsxs)(u.Z,{xs:12,sm:3,className:"cartControl",children:[(0,b.jsx)("button",{className:"incCart",onClick:function(){return k(e)},children:(0,b.jsx)("i",{className:"fa-solid fa-plus"})}),(0,b.jsx)("button",{className:"desCart",onClick:function(){return P(e)},children:(0,b.jsx)("i",{className:"fa-solid fa-minus"})})]})]})}),(0,b.jsx)("button",{className:"delete",onClick:function(){return D(e)},children:(0,b.jsx)("ion-icon",{name:"close"})})]})},e.id)}))]}),(0,b.jsx)(u.Z,{md:4,children:(0,b.jsxs)("div",{className:"cart-total",children:[(0,b.jsx)("h2",{children:"Seva Summary"}),(0,b.jsx)(h.Z,{onClick:function(){return p(!0)},style:{marginTop:"15px",backgroundColor:"#4CAF50",border:"none",padding:"10px 20px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",fontSize:"16px"},children:"Enter Seva Details"})]})})]})}),(0,b.jsxs)(x.Z,{show:r,onHide:g,children:[(0,b.jsx)(x.Z.Header,{closeButton:!0,children:(0,b.jsx)(x.Z.Title,{children:"Checkout Form"})}),(0,b.jsx)(x.Z.Body,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsxs)(m.Z.Group,{controlId:"formPincode",children:[(0,b.jsxs)(S,{children:[(0,b.jsx)(m.Z.Control,{type:"text",placeholder:"Enter Pincode",value:T,onChange:function(e){return L(e.target.value)},name:"pincode"}),(0,b.jsx)(h.Z,{variant:"outline-secondary",onClick:function(){E.includes(T)?R("Service is available in your pincode!"):R("Sorry, service is not available in your pincode.")},children:"Check Availability"})]}),(0,b.jsx)(m.Z.Text,{className:"text-muted",children:z}),(0,b.jsx)("br",{}),(0,b.jsx)(m.Z.Label,{children:"Name"}),(0,b.jsx)(m.Z.Control,{type:"text",placeholder:"Enter the name",value:f.name,onChange:function(e){return v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{name:e.target.value})}))},name:"name"})," "]}),(0,b.jsxs)(m.Z.Group,{children:[(0,b.jsx)(m.Z.Label,{children:"Email"}),(0,b.jsx)(m.Z.Control,{type:"email",placeholder:"Enter the Devotee Email",value:f.email,onChange:function(e){return v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{email:e.target.value})}))},name:"email"})," "]}),(0,b.jsxs)(m.Z.Group,{children:[(0,b.jsx)(m.Z.Label,{children:"Date"}),(0,b.jsx)(m.Z.Control,{type:"text",placeholder:"Enter the Date",value:f.address,onChange:function(e){return v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{address:e.target.value})}))},name:"address"})," "]}),(0,b.jsxs)(m.Z.Group,{children:[(0,b.jsx)(m.Z.Label,{children:"Phone No"}),(0,b.jsx)(m.Z.Control,{type:"text",placeholder:"Enter the Devotee phone no",value:f.phoneno,onChange:function(e){return v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{phoneno:e.target.value})}))},name:"phoneno"})," "]}),(0,b.jsxs)(m.Z.Group,{children:[(0,b.jsx)(m.Z.Label,{children:" Gotra "}),(0,b.jsx)(m.Z.Control,{type:"text",placeholder:"Enter the Devotee gotra",value:f.age,onChange:function(e){return v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{age:e.target.value})}))},name:"age"})," "]})]})}),(0,b.jsxs)(x.Z.Footer,{children:[(0,b.jsx)(h.Z,{variant:"secondary",onClick:g,children:"Close"}),(0,b.jsxs)(h.Z,{variant:"primary",onClick:A,children:[" ","Confirm Purchase"]})]})]})]})}}}]);
//# sourceMappingURL=536.d28657bd.chunk.js.map